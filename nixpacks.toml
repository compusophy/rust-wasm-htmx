providers = ["rust"]

[variables]
RUST_VERSION = "1.75"

[phases.setup]
nixPkgs = ["cargo", "rustc", "wasm-pack", "binaryen", "gcc"]

[phases.build]
cmd = "echo 'ğŸ¦€ Building WASM...' && wasm-pack build --target web --out-dir pkg --verbose && echo 'ğŸ“ WASM files created:' && ls -la pkg/ && echo 'ğŸ¦€ Building Rust server...' && cargo build --release --bin server --verbose && echo 'âœ… Build complete!'"

[phases.start]
cmd = "cargo run --release --bin server" 